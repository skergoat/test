#RewriteEngine On

#RewriteCond %{THE_REQUEST} /public/([^\s?]*) [NC]
#RewriteRule ^ %1 [L,NE,R=302]

#RewriteRule ^((?!public/).*)$ public/$1 [L,NC]

<VirtualHost *:80>
 ServerName domain.tld
 ErrorLog logs/dummy-host.jelastic.com-error_log
 CustomLog logs/dummy-host.jelastic.com-access_log common
 DocumentRoot /var/www/webroot/ROOT/web
 <Directory /var/www/webroot/ROOT/web>
 AllowOverride None
 Order Allow,Deny
 Allow from All
 <IfModule mod_rewrite.c>
 Options -MultiViews
 RewriteEngine On
 RewriteCond %{REQUEST_FILENAME} !-f
 RewriteRule ^(.*)$ app.php [QSA,L]
 </IfModule>
 </Directory>
 # uncomment the following lines if you install assets as symlinks
 # or run into problems when compiling LESS/Sass/CoffeeScript assets
 # <Directory /var/www/project>
 # Options FollowSymlinks
 # </Directory>
 # optionally disable the RewriteEngine for the asset directories
 # which will allow apache to simply reply with a 404 when files are
 # not found instead of passing the request into the full symfony stack
 <Directory /var/www/webroot/ROOT/web/bundles>
 <IfModule mod_rewrite.c>
 RewriteEngine Off
 </IfModule>
 </Directory>
</VirtualHost>